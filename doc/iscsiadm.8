.TH ISCSID 8 "July 2005" "" "Linux Administrator's Manual"
.SH NAME
iscsiadm \- Open-iSCSI Configuration Utility
.SH SYNOPSIS
.BI iscsiadm
[OPTIONS]
.SH "DESCRIPTION"
Open-iSCSI persistent configuration is implemented as a DBM database
available on all Linux installations.
.p
The database contains two tables:
.TP
Discovery table (discovery.db);
.TP
Node table (node.db).
.PD
.PP
The regular place for iSCSI database files is in
.I /var/db/iscsi/*.db
.PP
The iscsiadm utility is a command-line tool to manage (update, delete,
insert, query) the persistent database.
.PP
The utility presents set of operations that a user can perform 
on iSCSI nodes, sessions, connections, and discovery records.
.PP
Note that some of the iSCSI Node and iSCSI Discovery operations 
do not require iSCSI daemon (iscsid) loaded.

.SH OPTIONS
.TP
.B \-m, \-\-mode \fIop
specify operational mode.
.I op
is either
.I discovery
or
.I node
.TP
.B \-m discovery
display all discovery records from the internal persistent discovery
database.
.TP
.B \-m discovery \-\-type=\fItype\fB \-\-portal=\fIip:port\fB \-\-login
perform
.I type
discovery for target portal with ip-address 
.I ip
and port 
.I port
\. Initiate Login for each discovered target if --login is specific.
.TP
.B \-m discovery \-\-record=\fIid\fB \-\-login
 perform discovery based on record 
.I id
in database.
.TP
.B \-m discovery \-\-record=\fIid\fB \-\-op=\fIop\fB \-\-name=\fIname\fB \-\-value=\fIvalue
perform specific DB operation 
.I op
for specific discovery record with 
.I id
\. It could be one of:
.I new
, 
.I delete
, 
.I update
 or 
.I show
\. In case of
.I update
, you have to provide 
.I name
 and 
.I value
you wish to update
.TP
.B \-m node
display all discovered nodes from internal persistent discovery
database
.TP
.B \-m node \-\-record=\fIid\fB
display all parameters for given \fIid\fB.
.TP
.B \-m node \-\-record=\fIid\fB [\-\-login|\-l]
login to node given by \fIid\fB.
.TP
.B \-m node \-\-record=\fIid\fB [\-\-logout|\-u]
logout to node given by \fIid\fB.
.TP
.B \-m node \-\-record=\fIid\fB \-\-op=\fIop\fB [\-\-name=\fIname\fB \-\-value=\fIvalue\fB]
perform specific DB operation 
.I op
for specific node with record 
.I id
\. It could be one of:
.I new
, 
.I delete
, 
.I update
 or 
.I show
\. In case of
.I update
, you have to provide 
.I name
and 
.I value
you wish to update
.TP
.B \-m session
display all active sessions and connections
.TP
.B \-m session \-\-record=[\fIid\fB[\fI:cid\fB]] [\-\-logout|\-u]
perform operation for specific session with record
.I id
or display statistics if no operation specified. Operation will affect
one connection only if
.I \:cid
is specified
.TP
.B \-d, \-\-debug \fIdebuglevel
print debugging information
.TP
.B -V, --version
display version and exit
.TP
.B -h, --help
display this help and exit

.SH DISCOVERY TYPES
iSCSI defines 3 discovery types: SendTargets, SLP, and iSNS.

.TP
.B
SendTargets 
A native iSCSI protocol which allows each iSCSI
target to send a list of available targets to the initiator.

.TP
.B
SLP
Optionally an iSCSI target can use the Service Location Protocol (SLP)
to announce the available targets. The initiator can either implement
SLP queries directly or can use a separate tool to acquire the
information about available targets.

.TP
.B
iSNS
iSNS (Internet Storage Name Service) is a proposed standard to record
information about storage volumes within a larger network. In theory
it can be implemented for iSCSI and Fibre Channel. However, no
implementation of the central nameserver mandated by this standard is
currently available.
.P
Currently open-iscsi supports only the
.B
SendTargets
or
.B
st
discovery type. An SLP implementation is under development.

.SH FILES
.TP
/etc/iscsid.conf
The configuration file read by
.B iscsid
and
.B iscsiadm
on startup.
.TP
/etc/initiatorname.iscsi
The file containing the iSCSI initiatorname
and initiatoralias read by
.B iscsid
and
.B iscsiadm
on startup.
.TP
/var/db/iscsi/*.db
Open-iSCSI persistent configuration database

.SH "SEE ALSO"
.BR iscsid (8)

.SH AUTHORS
Open-iSCSI project <http://www.open-iscsi.org/>
.br
Alex Aizman <itn780@yahoo.com>
.br
Dmitry Yusupov <dmitry_yus@yahoo.com>
